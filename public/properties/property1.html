<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Property Details - Arkwright Road</title>
    <link rel="stylesheet" href="./property.css">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
</head>
<body>
    <!-- Navbar -->
    <div class="navbar">
        <div class="logo-container">
            <a href="/" onclick="closeMenu()">
                <img src="../images/logo.png" alt="Logo" class="logo-img" />
            </a>
        </div>
        <button class="menu-toggle" onclick="toggleMenu()">☰</button>
        <ul id="navbar-links" class="">
            <li><a href="/search" onclick="closeMenu()">Search</a></li>
            <li><a href="/ads" onclick="closeMenu()">Advertisements</a></li>
            <li><a href="/signup" onclick="closeMenu()">Sign up</a></li>
        </ul>
    </div>

    <div class="content-container">
        <!-- Property Details -->
        <div class="property-details">
            <!-- Gallery -->
            <div class="gallery-container">
                <div class="main-image">
                    <img id="current-image" src="../images/prop1pic1small.jpeg" alt="House" onclick="openImageViewer()">
                </div>
                <div class="thumbnail-container">
                    <img src="../images/prop1pic1small.jpeg" alt="House" onclick="changeImage(this)">
                    <img src="../images/prop1pic2.jpeg" alt="Living room" onclick="changeImage(this)">
                    <img src="../images/prop1pic3.jpeg" alt="Kitchen" onclick="changeImage(this)">
                    <img src="../images/prop1pic4.jpeg" alt="Garden" onclick="changeImage(this)">
                    <img src="../images/prop1pic5.jpeg" alt="Garden" onclick="changeImage(this)">
                    <img src="../images/prop1pic6.jpeg" alt="Garden" onclick="changeImage(this)">
                    <img src="../images/prop1pic7.jpeg" alt="Garden" onclick="changeImage(this)">
                    <img src="../images/prop1pic8.jpeg" alt="Garden" onclick="changeImage(this)">
                </div>
            </div>

            <!-- Fullscreen Image Viewer -->
            <div id="image-viewer">
                <i class="fas fa-times close-btn" onclick="closeImageViewer()"></i>
                <i class="fas fa-chevron-left arrow left" onclick="navigateImage(-1)"></i>
                <img id="viewer-image" src="" alt="Fullscreen Image">
                <i class="fas fa-chevron-right arrow right" onclick="navigateImage(1)"></i>
            </div>
    
            <!-- Remaining Property Details -->
            <div class="container">
                <div class="header">
                    <h2>Petts Wood Road, Petts Wood, Orpington BR5</h2>
                    <div class="icons">
                        <i class="fas fa-share-alt" id="share-icon" onclick="shareProperty()"></i>
                        <i class="far fa-heart" id="favorite-icon" onclick="toggleFavorite()"></i>
                    </div>
                </div>
                <div class="price">£750,000</div>
                <div class="separator"></div>
                
                <div class="letting-details">
                    <div class="property-detail">
                        <img src="../images/home.png" alt="Property Icon">
                        <span><strong>PROPERTY TYPE</strong> Semi-Detached House</span>
                    </div>
                    <div class="property-detail">
                        <img src="../images/bedrooms.png" alt="Bedroom Icon">
                        <span><strong>BEDROOMS</strong> 3</span>
                    </div>
                    <div class="property-detail">
                        <img src="../images/bathrooms.png" alt="Bathroom Icon">
                        <span><strong>BATHROOMS</strong> 2</span>
                    </div>
                    <div class="property-detail">
                        <img src="../images/livingroom.png" alt="Reception Icon">
                        <span><strong>RECEPTIONS</strong> 2</span>
                    </div>
                    <div class="property-detail">
                        <img src="../images/tenure.png" alt="Tenure Icon">
                        <span><strong>TENURE</strong> Freehold</span>
                    </div>
                </div>
                
                <div class="separator"></div>

                <div class="thumbnail-container">
                    <img src="../images/prop1pic1small.jpeg" alt="House" onclick="openImageViewer(0)">
                    <img src="../images/prop1pic2.jpeg" alt="Living room" onclick="openImageViewer(1)">
                    <img src="../images/prop1pic3.jpeg" alt="Kitchen" onclick="openImageViewer(2)">
                    <img src="../images/prop1pic4.jpeg" alt="Garden" onclick="openImageViewer(3)">
                    <img src="../images/prop1pic5.jpeg" alt="Garden" onclick="openImageViewer(4)">
                    <img src="../images/prop1pic6.jpeg" alt="Garden" onclick="openImageViewer(5)">
                    <img src="../images/prop1pic7.jpeg" alt="Garden" onclick="openImageViewer(6)">
                    <img src="../images/prop1pic8.jpeg" alt="Garden" onclick="openImageViewer(7)">
                  </div>
                  
                  <div id="image-viewer">
                    <i class="fas fa-times close-btn" onclick="closeImageViewer()"></i>
                    <i class="fas fa-chevron-left arrow left" onclick="navigateImage(-1)"></i>
                    <img id="viewer-image" src="" alt="Fullscreen Image">
                    <i class="fas fa-chevron-right arrow right" onclick="navigateImage(1)"></i>
                  </div>

                <div class="separator"></div>
                  
    
                <div class="description">
                    <h3>Description</h3>
                    <p id="short-description">
                        This charming three-bedroom semi-detached family home is the perfect blend of convenience, comfort, and character. Located just 0.5 miles from Petts Wood station, it offers swift connections to London, making it ideal for commuters. Nestled within a vibrant community, it’s also within a leisurely stroll of local shops, highly-rated schools, reliable bus routes, and serene National Trust woodlands—perfect for weekend adventures.
                    </p>
                    <div id="full-description" style="display: none;">
                        <p>
                            Step inside, and you'll find a thoughtfully designed layout that caters to modern family living. The home boasts two welcoming reception rooms—ideal for hosting or relaxing—and an expansive 18'9 x 10'1 kitchen/breakfast room that inspires culinary creativity. A bright conservatory invites you to unwind while enjoying views of the garden, while the utility room and cloakroom add practicality and convenience.
                        </p>

                        <p>
                            Upstairs, three spacious bedrooms provide restful retreats, complemented by a family bathroom with a separate WC for added functionality. Modern comforts such as double glazing and gas central heating are seamlessly integrated, ensuring the home is warm and energy-efficient year-round.
                        </p>
                        <p>
                            The interior is tastefully presented, exuding a sense of warmth and style. Whether you're savoring the tranquility of the woodland nearby or enjoying the ease of urban connectivity, this home offers a lifestyle of balance and beauty—a haven ready to welcome its next family.
                    </div>
                    <button id="toggle-button" onclick="toggleDescription()">Read Full Description</button>
                </div>  

                <div class="separator"></div>
                
                <div class="letting-details">
                    <div class="property-detail">
                        <span><strong>COUNCIL TAX</strong> Band: D</span>
                    </div>
                    <div class="property-detail">
                        <span><strong>PARKING</strong> Yes</span>
                    </div>
                    <div class="property-detail">
                        <span><strong>GARDEN</strong> Ask agent</span>
                    </div>
                    <div class="property-detail">
                        <span><strong>ACCESSIBILITY</strong> Ask agent</span>
                    </div>
                    <div class="property-detail">
                        <span><strong>SIZE</strong> 3,500 sq ft</span>
                    </div>
                </div>
            </div>
        </div>
    
        <!-- Map -->
        <div class="map-container">
            <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d19821.646786420514!2d0.08904545618127474!3d51.40278523448509!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47d8ad9a68053f3b%3A0x2c3c3efbcba1f5b7!2sPetts%20Wood%20Road%2C%20Petts%20Wood%2C%20Orpington%20BR5!5e0!3m2!1sen!2slk!4v1698363549287!5m2!1sen!2slk"
                allowfullscreen=""
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade">
            </iframe>
        </div>


        <div class="agent-card">
            <div class="marketed-by">MARKETED BY</div>
            <h2>Parkheath, Belsize Park</h2>
            <p>208 Haverstock Hill, London,<br>NW3 2AG</p>
            <a href="#" class="more-properties">More properties from this agent</a>
            <div class="logo-container">
              <img src="../images/agent.jpg" alt="Parkheath Logo">
            </div>
            

            <div class="buttons">
                <button class="call-agent" onclick="toggleCallAgent()">Call agent</button>
                <button class="request-details" onclick="requestDetails()">Request details</button>
            </div>
            
            <script>

                // Toggle the visibility of the navbar links
                function toggleMenu() {
                    const navbarLinks = document.getElementById("navbar-links");
                    if (navbarLinks.style.display === "block") {
                        navbarLinks.style.display = "none";
                    } else {
                        navbarLinks.style.display = "block";
                    }
                }

                function closeMenu() {
                    const navbarLinks = document.getElementById("navbar-links");
                    navbarLinks.style.display = "none";
                }

                // Optional: Ensure the menu is reset when resizing the window
                window.onresize = function () {
                    const navbarLinks = document.getElementById("navbar-links");
                    if (window.innerWidth > 768) {
                        navbarLinks.style.display = "flex"; // Adjust as per your default style
                    } else {
                        navbarLinks.style.display = "none";
                    }
                };

                // Toggle "Call agent" button between phone number and text
                function toggleCallAgent() {
                    var button = document.querySelector('.call-agent');
                    
                    // Check if the button currently shows the text "Call agent"
                    if (button.innerHTML === 'Call agent') {
                        // Change to mobile number and add a link to initiate the call
                        button.innerHTML = '<a href="tel:0764022934" style="color: inherit; text-decoration: none;">0764022934</a>';
                    } else {
                        // Change back to "Call agent"
                        button.innerHTML = 'Call agent';
                    }
                }
            
                // Function to handle "Request details" button click
                function requestDetails() {
                    alert("Thank you for your interest! We will send the property details to your email shortly.");
                    // You can replace the alert with any other desired action (e.g., opening a modal, sending data to the server, etc.)
                }


                function changeImage(thumbnail) {
                    const mainImage = document.getElementById('current-image');
                    mainImage.src = thumbnail.src;
                }

                // Image Modal Viewer Functionality
                const imagesArray = [
                "../images/prop1pic1small.jpeg",
                "../images/prop1pic2.jpeg",
                "../images/prop1pic3.jpeg",
                "../images/prop1pic4.jpeg",
                "../images/prop1pic5.jpeg",
                "../images/prop1pic6.jpeg",
                "../images/prop1pic7.jpeg",
                "../images/prop1pic8.jpeg",
                ];

                let currentModalIndex = 0;

                function openImageViewer(index = 0) {
                const imageViewer = document.getElementById('image-viewer');
                const viewerImage = document.getElementById('viewer-image');
                currentModalIndex = index;
                viewerImage.src = imagesArray[currentModalIndex];
                imageViewer.style.display = 'flex';
                }

                function closeImageViewer() {
                const imageViewer = document.getElementById('image-viewer');
                imageViewer.style.display = 'none';
                }

                function navigateImage(direction) {
                currentModalIndex = (currentModalIndex + direction + imagesArray.length) % imagesArray.length;
                const viewerImage = document.getElementById('viewer-image');
                viewerImage.src = imagesArray[currentModalIndex];
                }



                // JavaScript for toggling favorite icon
                function toggleFavorite() {
                    const favoriteIcon = document.getElementById('favorite-icon');
                    if (favoriteIcon.classList.contains('far')) {
                        favoriteIcon.classList.remove('far');
                        favoriteIcon.classList.add('fas');
                    } else {
                        favoriteIcon.classList.remove('fas');
                        favoriteIcon.classList.add('far');
                    }
                }

                // Function to handle sharing the property URL
                function shareProperty(propertyUrl) {
                const shareUrl = propertyUrl || window.location.href; // Use provided URL or current page URL
                if (navigator.share) {
                    // Web Share API
                    navigator
                    .share({
                        title: document.title,
                        url: shareUrl
                    })
                    .then(() => {
                        console.log("Thanks for sharing!");
                    })
                    .catch((error) => {
                        console.error("Error sharing", error);
                    });
                } else {
                    // Fallback for browsers that don't support Web Share API
                    const tempInput = document.createElement("input");
                    document.body.appendChild(tempInput);
                    tempInput.value = shareUrl;
                    tempInput.select();
                    document.execCommand("copy");
                    document.body.removeChild(tempInput);
                    alert("URL copied to clipboard");
                }
                }

                function toggleDescription() {
                var fullDescription = document.getElementById("full-description");
                var button = document.getElementById("toggle-button");
                
                // Check if the full description is currently hidden
                if (fullDescription.style.display === "none") {
                    fullDescription.style.display = "block";  // Show the full description
                    button.innerHTML = "Read Less";  // Change the button text
                } else {
                    fullDescription.style.display = "none";  // Hide the full description
                    button.innerHTML = "Read Full Description";  // Change the button text back
                }
            }
            
            </script>
        </div>
    </div>
</body>
</html>