<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Property Details - Arkwright Road</title>
    <link rel="stylesheet" href="./property.css">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
</head>
<body>
    <!-- Navbar -->
    <div class="navbar">
        <div class="logo-container">
            <a href="/" onclick="closeMenu()">
                <img src="../images/logo.png" alt="Logo" class="logo-img" />
            </a>
        </div>
        <button class="menu-toggle" onclick="toggleMenu()">☰</button>
        <ul id="navbar-links">
            <li><a href="/search" onclick="closeMenu()">Search</a></li>
            <li><a href="/ads" onclick="closeMenu()">Advertisements</a></li>
            <li><a href="/signup" onclick="closeMenu()">Sign up</a></li>
        </ul>
    </div>

    <div class="content-container">
        <!-- Property Details -->
        <div class="property-details">
            <!-- Gallery -->
            <div class="gallery-container">
                <div class="main-image">
                    <img id="current-image" src="../images/prop5pic1small.jpeg" alt="House" onclick="openImageViewer()">
                </div>
                <div class="thumbnail-container">
                    <img src="../images/prop5pic1small.jpeg" alt="House" onclick="changeImage(this)">
                    <img src="../images/prop5pic2.jpeg" alt="Living room" onclick="changeImage(this)">
                    <img src="../images/prop5pic3.jpeg" alt="Kitchen" onclick="changeImage(this)">
                    <img src="../images/prop5pic4.jpeg" alt="Garden" onclick="changeImage(this)">
                    <img src="../images/prop5pic5.jpeg" alt="Garden" onclick="changeImage(this)">
                </div>
            </div>

            <!-- Fullscreen Image Viewer -->
            <div id="image-viewer">
                <i class="fas fa-times close-btn" onclick="closeImageViewer()"></i>
                <i class="fas fa-chevron-left arrow left" onclick="navigateImage(-1)"></i>
                <img id="viewer-image" src="" alt="Fullscreen Image">
                <i class="fas fa-chevron-right arrow right" onclick="navigateImage(1)"></i>
            </div>
    
            <!-- Remaining Property Details -->
            <div class="container">
                <div class="header">
                    <h2>Morant Place, London, N22</h2>
                    <div class="icons">
                        <i class="fas fa-share-alt" id="share-icon" onclick="shareProperty()"></i>
                        <i class="far fa-heart" id="favorite-icon" onclick="toggleFavorite()"></i>
                    </div>
                </div>
                <div class="price">£700</div>
                <div class="separator"></div>
                
                <div class="letting-details">
                    <div class="property-detail">
                        <img src="../images/home.png" alt="Property Icon">
                        <span><strong>PROPERTY TYPE</strong> Flat </span>
                    </div>
                    <div class="property-detail">
                        <img src="../images/bedrooms.png" alt="Bedroom Icon">
                        <span><strong>BEDROOMS</strong> 1 </span>
                    </div>
                    <div class="property-detail">
                        <img src="../images/bathrooms.png" alt="Bathroom Icon">
                        <span><strong>BATHROOMS</strong> 1</span>
                    </div>
                    <div class="property-detail">
                        <img src="../images/livingroom.png" alt="Reception Icon">
                        <span><strong>FURNISH TYPE </strong> Furnished </span>
                    </div>
                    <div class="property-detail">
                        <img src="../images/tenure.png" alt="Tenure Icon">
                        <span><strong>TENURE</strong> Freehold</span>
                    </div>
                </div>
                
                <div class="separator"></div>

                <div class="thumbnail-container">
                    <img src="../images/prop5pic1small.jpeg" alt="House" onclick="openImageViewer(0)">
                    <img src="../images/prop5pic2.jpeg" alt="Living room" onclick="openImageViewer(1)">
                    <img src="../images/prop5pic3.jpeg" alt="Kitchen" onclick="openImageViewer(2)">
                    <img src="../images/prop5pic4.jpeg" alt="Garden" onclick="openImageViewer(3)">
                    <img src="../images/prop5pic5.jpeg" alt="Garden" onclick="openImageViewer(4)">
                  </div>
                  
                  <div id="image-viewer">
                    <i class="fas fa-times close-btn" onclick="closeImageViewer()"></i>
                    <i class="fas fa-chevron-left arrow left" onclick="navigateImage(-1)"></i>
                    <img id="viewer-image" src="" alt="Fullscreen Image">
                    <i class="fas fa-chevron-right arrow right" onclick="navigateImage(1)"></i>
                  </div>

                  <div class="separator"></div>
                  
    
                <div class="description">
                    <h3>Description</h3>
                    <p id="short-description">
                        This room in a two-bedroom flat offers a comfortable and inviting living environment, featuring a spacious living room ideal for relaxation and a balcony for added charm. Shared exclusively with one professional female, it ensures a quiet and respectful atmosphere.
                    </p>
                    <div id="full-description" style="display: none;">
                        <p>
                            Situated in a desirable residential area, the property provides easy access to public transport, supermarkets, and restaurants, offering convenience and accessibility. It's an excellent opportunity for someone seeking a peaceful home with a well-connected location for a balanced lifestyle.
                        </p>
                    </div>
                    <button id="toggle-button" onclick="toggleDescription()">Read Full Description</button>
                </div>  

                <div class="separator"></div>
                
                <div class="letting-details">
                    <div class="property-detail">
                        <span><strong>COUNCIL TAX</strong> Ask agent</span>
                    </div>
                    <div class="property-detail">
                        <span><strong>PARKING</strong> Ask agent</span>
                    </div>
                    <div class="property-detail">
                        <span><strong>GARDEN</strong> Patio </span>
                    </div>
                    <div class="property-detail">
                        <span><strong>ACCESSIBILITY</strong> Ask agent</span>
                    </div>
                    <div class="property-detail">
                        <span><strong>SIZE</strong> Ask agent </span>
                    </div>
                </div>
            </div>
        </div>
    
        <!-- Map -->
        <div class="map-container">
            <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d19821.646786420514!2d-0.1853911147969798!3d51.550671416296585!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x48761b5f5c39cabb%3A0x5e703aba29936b72!2sMorant%20Place%2C%20London%2C%20N22!5e0!3m2!1sen!2slk!4v1698363549287!5m2!1sen!2slk"
                allowfullscreen=""
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade">
            </iframe>
        </div>


        <div class="agent-card">
            <div class="marketed-by">MARKETED BY</div>
            <h2>Parkheath, Belsize Park</h2>
            <p>208 Haverstock Hill, London,<br>NW3 2AG</p>
            <a href="#" class="more-properties">More properties from this agent</a>
            <div class="logo-container">
              <img src="../images/agent.jpg" alt="Parkheath Logo">
            </div>
            

            <div class="buttons">
                <button class="call-agent" onclick="toggleCallAgent()">Call agent</button>
                <button class="request-details">Request details</button>
              </div>
              
              <script>
                function toggleCallAgent() {
                  var button = document.querySelector('.call-agent');
                  
                  // Check if the button currently shows the text "Call agent"
                  if (button.innerHTML === 'Call agent') {
                    // Change to mobile number and add a link to initiate the call
                    button.innerHTML = '<a href="tel:0764022934" style="color: inherit; text-decoration: none;">0764022934</a>';
                  } else {
                    // Change back to "Call agent"
                    button.innerHTML = 'Call agent';
                  }
                }
              </script>
              
              
              
              
    
    <!-- JavaScript -->
    <script>
        // Toggle the visibility of the navbar links
        function toggleMenu() {
            const navbarLinks = document.getElementById("navbar-links");
            if (navbarLinks.style.display === "block") {
                navbarLinks.style.display = "none";
            } else {
                navbarLinks.style.display = "block";
            }
        }

        function closeMenu() {
            const navbarLinks = document.getElementById("navbar-links");
            navbarLinks.style.display = "none";
        }

        // Optional: Ensure the menu is reset when resizing the window
        window.onresize = function () {
            const navbarLinks = document.getElementById("navbar-links");
            if (window.innerWidth > 768) {
                navbarLinks.style.display = "flex"; // Adjust as per your default style
            } else {
                navbarLinks.style.display = "none";
            }
        };

        function changeImage(thumbnail) {
            const mainImage = document.getElementById('current-image');
            mainImage.src = thumbnail.src;
        }

        // Image Modal Viewer Functionality
        const imagesArray = [
        "../images/prop5pic1small.jpeg",
        "../images/prop5pic2.jpeg",
        "../images/prop5pic3.jpeg",
        "../images/prop5pic4.jpeg",
        "../images/prop5pic5.jpeg",
        ];

        let currentModalIndex = 0;

        function openImageViewer(index = 0) {
        const imageViewer = document.getElementById('image-viewer');
        const viewerImage = document.getElementById('viewer-image');
        currentModalIndex = index;
        viewerImage.src = imagesArray[currentModalIndex];
        imageViewer.style.display = 'flex';
        }

        function closeImageViewer() {
        const imageViewer = document.getElementById('image-viewer');
        imageViewer.style.display = 'none';
        }

        function navigateImage(direction) {
        currentModalIndex = (currentModalIndex + direction + imagesArray.length) % imagesArray.length;
        const viewerImage = document.getElementById('viewer-image');
        viewerImage.src = imagesArray[currentModalIndex];
        }



        // JavaScript for toggling favorite icon
        function toggleFavorite() {
            const favoriteIcon = document.getElementById('favorite-icon');
            if (favoriteIcon.classList.contains('far')) {
                favoriteIcon.classList.remove('far');
                favoriteIcon.classList.add('fas');
            } else {
                favoriteIcon.classList.remove('fas');
                favoriteIcon.classList.add('far');
            }
        }

        // JavaScript for sharing property
        function shareProperty() {
            const shareUrl = window.location.href;
            if (navigator.share) {
                navigator.share({
                    title: document.title,
                    url: shareUrl
                }).then(() => {
                    console.log('Thanks for sharing!');
                }).catch(console.error);
            } else {
                // Fallback for browsers that do not support the Web Share API
                const tempInput = document.createElement('input');
                document.body.appendChild(tempInput);
                tempInput.value = shareUrl;
                tempInput.select();
                document.execCommand('copy');
                document.body.removeChild(tempInput);
                alert('URL copied to clipboard');
            }
        }

        function toggleDescription() {
        var fullDescription = document.getElementById("full-description");
        var button = document.getElementById("toggle-button");
        
        // Check if the full description is currently hidden
        if (fullDescription.style.display === "none") {
            fullDescription.style.display = "block";  // Show the full description
            button.innerHTML = "Read Less";  // Change the button text
        } else {
            fullDescription.style.display = "none";  // Hide the full description
            button.innerHTML = "Read Full Description";  // Change the button text back
        }
    }

    </script>
</body>
</html>